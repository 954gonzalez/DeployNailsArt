<app-header></app-header>

<div class="contenedorPrincipal">
  <button class="py-3 px-6 rounded-lg text-white"
          style="background-image: linear-gradient(135deg, rgb(217, 105, 255) 0%, rgb(190, 10, 255) 100%);"
          (click)="abrirModal()">
    Agregar Manicurista
  </button>
</div>

<div id="myModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>{{ editMode ? 'Editar Manicurista' : 'Agregar Manicurista' }}</h2>
      <span class="close" (click)="cerrarModal()">&times;</span>
    </div>
    <form [formGroup]="form" (submit)="onSubmit()">
      <div class="form-group">
        <div class="input-container">
          <input class="form__field" placeholder="Nombre" formControlName="nombre" type="text" required>
          <label class="form__label">Nombre</label>
        </div>
        <div class="input-container">
          <input class="form__field" placeholder="Apellido" formControlName="apellido" type="text" required>
          <label class="form__label">Apellido</label>
        </div>
      </div>

      <input type="hidden" formControlName="id_manicurista" />
      <div class="form-group">
        <div class="input-container">
          <input class="form__field" placeholder="Email Personal" formControlName="emailPersonal" type="email" required>
          <label class="form__label">Email Personal</label>
        </div>
        <div class="input-container">
          <input class="form__field" placeholder="Email de la app" formControlName="emailApp" type="email" required>
          <label class="form__label">Email de la app</label>
        </div>
      </div>
      <div class="form-group">
        <div class="input-container">
          <input class="form__field" placeholder="Contraseña" formControlName="contrasenaApp" type="password" required>
          <label class="form__label">Contraseña</label>
        </div>
        <div class="input-container">
          <input class="form__field" placeholder="Celular" formControlName="celular" type="text" required>
          <label class="form__label">Celular</label>
        </div>
      </div>
      <div class="form-group">
        <div class="input-container">
          <input class="form__field" placeholder="Dirección" formControlName="direccion" type="text">
          <label class="form__label">Dirección</label>
        </div>
        <div class="input-container">
          <label class="form__label">Descripción:</label>
          <textarea class="form__field" formControlName="descripcion" rows="4"></textarea>
        </div>
      </div>
      <div class="form-group">
        <div class="input-container">
          <input type="file" (change)="onFileSelected($event)" id="fileInput" style="display: none" accept=".jpg,.jpeg,.png">
<label for="fileInput" class="custom-file-upload">
  <i class="fas fa-cloud-upload-alt"></i> Seleccionar archivo
</label>

<p *ngIf="selectedFileName" class="selected-file-name">Archivo seleccionado: {{ selectedFileName }}</p> 
        </div>

        
        
      
      <div class="button-container">
        <button class="py-3 px-6 rounded-lg text-white"
                style="background-image: linear-gradient(135deg, rgb(217, 105, 255) 0%, rgb(190, 10, 255) 100%);"
                type="submit">{{ editMode ? 'Editar' : 'Agregar' }}
        </button>
      </div>
    </div>
    </form>
  </div>
</div>

<table>
  <thead>
    <tr>
      <th>Nombre</th>
      <th>Apellido</th>
      <th>Email</th>
      <th>Celular</th>
      <th>Dirección</th>
      <th>Descripción</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let manicurista of manicuristas">
      <td>{{ manicurista.nombre }}</td>
      <td>{{ manicurista.apellido }}</td>
      <td>{{ manicurista.emailPersonal }}</td>
      <td>{{ manicurista.celular }}</td>
      <td>{{ manicurista.direccion }}</td>
      <td>{{ manicurista.descripcion }}</td>
      <td>
        <button class="btn-editar" (click)="editarManicurista(manicurista)">Editar</button>
        <button class="btn-desactivar" (click)="eliminarManicurista(manicurista.id_manicurista)">Eliminar</button>
      </td>
    </tr>
  </tbody>
</table>
